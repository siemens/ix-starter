import{a as d,b as l}from"./chunk-XHUEPQEK.js";import{b as a}from"./chunk-37VSQ4YW.js";import"./chunk-RIYIKUES.js";import{a as o}from"./chunk-OKWXEGRG.js";import{c as f}from"./chunk-PYJI42IH.js";import{a as n,d as e,e as c,f as h}from"./chunk-GG4ZXK7F.js";import{f as r}from"./chunk-S5EYVFES.js";function m(i){return i&&"getAssociatedFormElement"in i&&typeof i.getAssociatedFormElement=="function"&&"getNativeInputElement"in i&&typeof i.getNativeInputElement=="function"}var b=":host{display:inline-block;position:relative;margin-top:0.5rem;margin-bottom:0.25rem}",w=(()=>{let i=class{constructor(t){n(this,t),this.isInvalid=!1,this.htmlForObserver=new MutationObserver(()=>this.checkForInternalState()),this.a11yAttributes={},this.labelRef=o()}connectedCallback(){this.registerHtmlForObserver(),this.registerControlRefObserver()}disconnectedCallback(){this.htmlForObserver&&this.htmlForObserver.disconnect(),this.htmlForClassObserver&&this.htmlForClassObserver.destroy(),this.controlRefClassObserver&&this.controlRefClassObserver.destroy()}componentWillRender(){this.checkForInternalState()}componentWillLoad(){this.a11yAttributes=f(this.hostElement)}registerHtmlForObserver(){typeof window>"u"||(this.htmlForObserver&&this.htmlForObserver.disconnect(),this.htmlFor&&this.htmlForObserver.observe(window.document,{childList:!0,subtree:!0}))}registerControlRefObserver(){return r(this,null,function*(){if(!(typeof window>"u")&&(this.controlRefClassObserver&&this.controlRefClassObserver.destroy(),this.controlRef)){let t=yield this.controlRef.waitForCurrent();this.controlRefClassObserver=a(t,()=>this.checkForInvalidState(t))}})}registerHtmlForClassObserver(t){this.htmlForClassObserver&&this.htmlForClassObserver.destroy(),this.htmlForClassObserver=a(t,()=>this.checkForInvalidState(t))}checkForInvalidState(t){this.isInvalid=t.classList.contains("is-invalid")||t.classList.contains("ix-invalid")}checkForInternalState(){return r(this,null,function*(){if(this.htmlFor){let t=document.getElementById(this.htmlFor);t&&(typeof t.required=="boolean"&&(this.required=t.required),this.registerHtmlForClassObserver(t),this.checkForInvalidState(t))}if(this.controlRef){let t=yield this.controlRef.waitForCurrent();this.required=t.required}})}focusOnClick(){return r(this,null,function*(){if(this.htmlFor){let t=document.getElementById(this.htmlFor);if(t){let s=null;m(t)?s=yield t.getNativeInputElement():s=t,typeof s.focus=="function"&&s.focus()}}this.controlRef&&(yield this.controlRef.waitForCurrent()).focus()})}render(){return e(c,{key:"8b95961ee8dde015e7be8c9b5d5b0c742abc66a2",onClick:()=>this.focusOnClick()},e("label",Object.assign({key:"94e23159d8cfc8366628245ff88c66a75114ddcd",htmlFor:this.htmlFor},this.a11yAttributes,{ref:this.labelRef}),e("ix-typography",{key:"71d0e1969ab2ffbc95366c256f22412caeca51a4",textColor:this.isInvalid?"alarm":"soft",format:"label"},e("slot",{key:"73d15d7c64df8d301cbe1a0d5158c459273d90ed"}),this.required&&e("span",{key:"adfe97c75781edcf3a3d84c463f019afff623765"},"*"))))}get hostElement(){return h(this)}static get watchers(){return{htmlFor:["registerHtmlForObserver"],controlRef:["registerControlRefObserver"]}}};return i.style=b,i})(),p=":host{display:flex;position:relative;flex-direction:column}:host .slot-wrapper{display:flex;position:relative;align-items:center;justify-content:flex-start;gap:0.25rem}:host .field-bottom,:host .field-top{display:flex;flex-direction:row;position:relative;justify-content:space-between;gap:1rem;width:-moz-min-content;width:min-content;min-width:100%}:host .field-bottom .bottom-right{margin-left:auto;margin-right:0px}:host .bottom-text{display:flex;position:relative;align-items:flex-start;justify-content:flex-start;gap:0.25rem;margin-right:0.25rem}:host .text-icon{margin:0.125rem}:host .text-icon.invalid{color:var(--theme-helper-icon--color--invalid)}:host .text-icon.info{color:var(--theme-helper-icon--color--info)}:host .text-icon.warning{color:var(--theme-helper-icon--color--warning)}:host .text-icon.valid{color:var(--theme-helper-icon--color--valid)}:host .bottom-text{margin-top:0.25rem;margin-bottom:0.25rem}",O=(()=>{let i=class{constructor(t){n(this,t),this.isInvalid=!1,this.isValid=!1,this.isInfo=!1,this.isWarning=!1,this.showTextAsTooltip=!1,this.required=!1,this.slotRef=o()}render(){let t={invalidText:this.invalidText,isInvalid:this.isInvalid,isValid:this.isValid,validText:this.validText,isWarning:this.isWarning,warningText:this.warningText,isInfo:this.isInfo,infoText:this.infoText,helperText:this.helperText};return e(c,{key:"3e4d4cc4d1825e7c882844497a14c683e6fa4984"},this.label&&e("div",{key:"14c73ca16fca119c7ae3b57406fed9d06c92682b",class:"field-top"},e("ix-field-label",{key:"528080fc33fbba4af32b995c2a5b812cbe546c3c",required:this.required,htmlFor:this.htmlForLabel,controlRef:this.controlRef,isInvalid:this.isInvalid},this.label)),e("div",{key:"07dd086cb873468943feddd633ff9487c4ac28ad",class:{"slot-wrapper":!0},ref:this.slotRef},e("slot",{key:"b7cd2920a4ddfcd8c89c661a516169f965956150"})),e("div",{key:"f2976ba8ed9a373e46ad0b12b7aa4e7eefd15f16",class:"field-bottom"},!this.showTextAsTooltip&&e(l,Object.assign({key:"aec1f83ed3e30742d7e3d50e5287b3585cfff158"},t)),e("div",{key:"a89b5e7a6485fd220b5b1b0fa68eda56fe77367c",class:"bottom-right"},e("slot",{key:"079a9c2ad3694da127bc03324764a317d0ad97a3",name:"bottom-right"}))),this.showTextAsTooltip===!0&&d(t)&&e("ix-tooltip",{key:"c43740e25841a7e14069b0f666ede1e3d3a38e35",for:this.slotRef.waitForCurrent(),showDelay:500,placement:"bottom"},e(l,Object.assign({key:"8cffb6fb825da3d30f8b0362359d305c53a99c93"},t))))}get hostElement(){return h(this)}};return i.style=p,i})();export{w as ix_field_label,O as ix_field_wrapper};
