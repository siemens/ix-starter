import{c as a}from"./chunk-4WD5GDT3.js";import{e as h,j as c}from"./chunk-RIYIKUES.js";import{a as p}from"./chunk-Y3VZON7A.js";import{a as u,d as t,e as g,f,g as d}from"./chunk-GG4ZXK7F.js";import"./chunk-S5EYVFES.js";var b=":host{display:flex;flex-direction:column;position:relative;width:19.75rem;min-width:12rem;border-color:var(--theme-group-item--border-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .group-header{height:4rem;min-height:4rem;max-height:4rem;border-radius:var(--theme-group--border-radius) var(--theme-group--border-radius) 0 0;display:flex;background-color:var(--theme-group-item--background);color:var(--theme-group-header--color);cursor:pointer}:host .group-header:not(.disabled):not(:disabled){cursor:pointer}:host .group-header:not(.disabled):not(:disabled):hover,:host .group-header:not(.disabled):not(:disabled).hover{background-color:var(--theme-group-item--background--hover)}:host .group-header:not(.disabled):not(:disabled):hover.selected,:host .group-header:not(.disabled):not(:disabled).hover.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header:not(.disabled):not(:disabled){cursor:pointer}:host .group-header:not(.disabled):not(:disabled):active,:host .group-header:not(.disabled):not(:disabled).active{background-color:var(--theme-group-item--background--active)}:host .group-header:not(.disabled):not(:disabled):active.selected,:host .group-header:not(.disabled):not(:disabled).active.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header:not(.disabled):not(:disabled):focus-visible{height:calc(4rem - 2px);min-height:calc(4rem - 2px);border:1px solid var(--theme-color-focus-bdr);border-radius:var(--theme-default-border-radius) var(--theme-default-border-radius) 0px 0px;outline:none}:host .group-header:not(.disabled):not(:disabled):focus-visible .group-header-selection-indicator{width:calc(0.25rem - 1px)}:host .group-header:not(.disabled):not(:disabled):focus-visible .group-header-content{padding:calc(0.5rem - 1px) calc(0.5rem - 1px) calc(0.5rem - 1px) 0}:host .group-header:not(.disabled):not(:disabled):focus-visible .btn-expand-header{margin-top:calc(0.5rem - 1px);margin-bottom:calc(0.5rem - 1px)}:host .group-header.selected{background-color:var(--theme-group-item--background--selected)}:host .group-header.selected .group-header-selection-indicator{background-color:var(--theme-group-item-indicator--background--selected)}:host .group-header .group-header-selection-indicator{background-color:var(--theme-color-input--focus)}:host .group-header .group-header-selection-indicator.group-header-selection-indicator-item-selected{background-color:var(--theme-group-item-indicator--background--selected)}:host .group-header-clickable{display:flex;width:100%;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .group-header-selection-indicator{width:0.25rem;border-top-left-radius:var(--theme-group--border-radius)}:host .group-header-content{display:flex;flex-direction:row;justify-content:space-between;min-width:0;flex-grow:1;flex-basis:0;padding:0.5rem;padding-left:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .group-header-content .group-header-props-container{width:100%}:host .group-header-content .group-header-title{display:flex;align-items:center;font-size:1rem;font-weight:700;height:1.5rem}:host .group-header-content .group-header-title>*{min-width:0;padding-right:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .group-header-content .group-subheader{height:1.25rem;font-size:0.875rem;color:var(--theme-group-subheader--color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host .expand-icon{padding:0.125rem 0.437rem;color:var(--theme-color-std-text)}:host .btn-expand-header{margin:0.5rem;margin-inline-end:0.25rem;min-width:1.5rem}:host .group-content{display:flex;flex-direction:column;gap:1px;margin-top:1px}:host .footer{visibility:collapse;height:auto;min-height:0}:host .footer-visible{visibility:visible}:host .hidden{display:none}",y=(()=>{let n=class{constructor(e){u(this,e),this.selectGroup=d(this,"selectGroup",7),this.selectItem=d(this,"selectItem",7),this.expandedChanged=d(this,"expandedChanged",7),this.suppressHeaderSelection=!1,this.expanded=!1,this.selected=!1,this.expandOnHeaderClick=!1,this.itemSelected=!1,this.slotSize=this.groupItems.length,this.footerVisible=!1,this.showExpandCollapsedIcon=!1,this.hasDropdown=!1,this.observer=null}selectedChanged(e){e===!1&&this.changeItemIndex()}get dropdownItems(){return Array.from(this.hostElement.querySelectorAll("ix-group-dropdown-item"))}get groupItems(){return Array.from(this.hostElement.querySelectorAll("ix-group-item:not(.footer)"))}get groupContent(){var e;return(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector(".group-content")}onExpandClick(e){let o=this.expanded;this.expanded=!this.expanded;let{defaultPrevented:r}=this.expandedChanged.emit(this.expanded);e.stopPropagation(),r&&(this.expanded=o)}onHeaderClick(e){if(this.suppressHeaderSelection){this.onExpandClick(e);return}this.changeHeaderSelection(!this.selected),this.changeItemIndex()}changeHeaderSelection(e){let o=this.selected,r=e;this.selected=r;let{defaultPrevented:s}=this.selectGroup.emit(r);if(s){this.selected=o;return}}changeItemIndex(e){let o=this.index,r=e===this.index?void 0:e;if(this.index===r)return;this.index=r;let{defaultPrevented:s}=this.selectItem.emit(r);if(s){this.index=o;return}let l=this.groupItems;l.forEach((i,m)=>{i.selected=m===this.index}),this.itemSelected=l.some(i=>i.selected)}onSlotChange(){var e;let o=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector('slot[name="footer"]');o&&(this.footerVisible=a(o))}checkDropdownSlot(){this.hasDropdown=!!this.hostElement.querySelector('[slot="dropdown"]')}componentWillRender(){this.groupItems.forEach((e,o)=>{e.selected=o===this.index,e.index=o}),this.checkDropdownSlot()}componentDidLoad(){this.observer=p(()=>{this.slotSize=this.groupItems.length}),this.groupContent&&(this.observer.observe(this.groupContent,{childList:!0}),this.checkDropdownSlot())}disconnectedCallback(){this.observer&&this.observer.disconnect()}onItemClicked(e){if(e.target instanceof HTMLElement){let o=e.target,r=this.groupItems.indexOf(o);this.changeItemIndex(r)}}render(){return t(g,{key:"4afd808f34c4c47ef82b9ac86c9824f93c0ac022"},t("div",{key:"e4faee7660a7e0356be0847648d8c749b8a53dd8",class:{"group-header":!0,expand:this.expanded,selected:this.selected},tabindex:"0"},t("div",{key:"708f196e0212bf1134de3e12d7c22ec6b981c998",class:"group-header-clickable",onClick:e=>this.onHeaderClick(e)},t("div",{key:"b7e7fdf40ff90648cb3d734340ddb2ae1c39f35f",class:{"group-header-selection-indicator":!0,"group-header-selection-indicator-item-selected":this.itemSelected}}),t("div",{key:"11526d19f3cbe9cc5ced668a16b4d9401907a20b",class:"btn-expand-header"},t("ix-icon",{key:"0484a742e10ef8d3448b948c708795f28977af50","data-testid":"expand-collapsed-icon",class:{hidden:!this.showExpandCollapsedIcon},name:this.expanded?c:h,onClick:e=>this.onExpandClick(e)})),t("div",{key:"ebd85a3ffcff6a72afa619f9f339f9f335d5692a",class:"group-header-content"},this.header?t("div",{class:"group-header-props-container"},t("div",{class:"group-header-title"},t("span",{title:this.header},this.header)),t("div",{class:"group-subheader",title:this.subHeader},this.subHeader)):null,t("slot",{key:"d32a324262fec6c9331b773d4244fa9a98ec8e26",name:"header"}))),this.hasDropdown&&t("ix-group-context-menu",{key:"fc3c314ee1f858a833786d0086c0cbf372cbaa91"},t("slot",{key:"aba688f91e2891df29b28a836cea956967a0bfdc",name:"dropdown"}))),t("div",{key:"ff1e7e553feafffb89d6e5727fa08e518c5e8f09",class:{"group-content":!0}},t("div",{key:"2491e7fc2db3a26f2a6590dc4f5672256aea0ba0",style:{display:this.expanded?"contents":"none"}},t("slot",{key:"9ff899ad82ec853ca26bf6516755aa96ff4f1a75",onSlotchange:()=>{var e;let o=(e=this.hostElement.shadowRoot)===null||e===void 0?void 0:e.querySelector("slot:not([name])");this.showExpandCollapsedIcon=a(o)}}),t("ix-group-item",{key:"deba11384b1595616beb387a20e13bd4a37bab85",class:{footer:!0,"footer-visible":this.footerVisible},groupFooter:!0,suppressSelection:!0},t("slot",{key:"93f76c08a387e415908c1425e88463306bd7f094",name:"footer",onSlotchange:()=>this.onSlotChange()})))))}get hostElement(){return f(this)}static get watchers(){return{selected:["selectedChanged"]}}};return n.style=b,n})();export{y as ix_group};
