import{a as m}from"./chunk-Y3VZON7A.js";import{a as l}from"./chunk-OKWXEGRG.js";import{a as u,c as b}from"./chunk-PYJI42IH.js";import{a as p,d as o,e as v,f,g as h,h as g}from"./chunk-GG4ZXK7F.js";import{f as c}from"./chunk-S5EYVFES.js";var I=":host{display:flex;justify-content:flex-start;height:2.5rem;align-items:center;background-color:transparent;overflow:hidden}:host *,:host *::after,:host *::before{box-sizing:border-box}:host ::-webkit-scrollbar-button{display:none}@-moz-document url-prefix(){:host *{scrollbar-color:var(--theme-scrollbar-thumb--background) var(--theme-scrollbar-track--background);scrollbar-width:thin}}:host{}:host ::-webkit-scrollbar{width:0.5rem;height:0.5rem}:host{}:host ::-webkit-scrollbar-track{border-radius:5px;background:var(--theme-scrollbar-track--background)}:host ::-webkit-scrollbar-track:hover{background:var(--theme-scrollbar-track--background--hover)}:host{}:host ::-webkit-scrollbar-thumb{border-radius:5px;background:var(--theme-scrollbar-thumb--background)}:host{}:host ::-webkit-scrollbar-thumb:hover{background:var(--theme-scrollbar-thumb--background--hover)}:host ::-webkit-scrollbar-corner{display:none}:host .previous-button{width:3rem;min-width:0px}:host .crumb-dropdown{overflow:visible}:host .remove-anchor::after{display:none}:host .more-text{display:flex}:host .more-text .more-text-ellipsis{width:1rem;display:inline-block;font-weight:700}:host .more-text ix-icon{padding-top:2px}:host nav,:host ol,:host .crumb-items{display:contents}",C=0,k=(a="breadcrumb-")=>`${a}-${C++}`,P=(()=>{let a=class{constructor(t){p(this,t),this.itemClick=h(this,"itemClick",7),this.nextClick=h(this,"nextClick",7),this.visibleItemCount=9,this.nextItems=[],this.subtle=!1,this.ariaLabelPreviousButton="previous",this.previousButtonRef=l(),this.nextButtonRef=l(),this.items=[],this.isPreviousDropdownExpanded=!1,this.previousButtonId=k(),this.previousDropdownId=k()}onNextItemsChange(){this.onChildMutation()}onItemClick(t){this.itemClick.emit(t)}componentDidLoad(){this.mutationObserver=m(()=>this.onChildMutation()),this.mutationObserver.observe(this.hostElement,{subtree:!0,childList:!0})}componentWillLoad(){this.onChildMutation()}disconnectedCallback(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}onChildMutation(){return c(this,null,function*(){let t=this.getItems();t.forEach((i,s)=>{let n=this.nextItems.length!==0&&t.length-1===s;i.subtle=this.subtle,i.hideChevron=t.length-1===s&&!n,i.isDropdownTrigger=n,n&&this.nextButtonRef(i),!(t.length<this.visibleItemCount)&&(i.invisible=s<t.length-this.visibleItemCount)}),this.items=t})}getItems(){return Array.from(this.hostElement.querySelectorAll("ix-breadcrumb-item"))}render(){var t,i,s,n;let x=b(this.hostElement);return o(v,{key:"c5457acd786da77d474f83613a2c12910a193779"},o("ix-dropdown",{key:"3f1e0ae1e4ac1d192ff7c0d5619329cfbcdf8a62",id:this.previousDropdownId,"aria-label":this.ariaLabelPreviousButton,trigger:((t=this.items)===null||t===void 0?void 0:t.length)>this.visibleItemCount?this.previousButtonRef.waitForCurrent():void 0,onShowChanged:({detail:r})=>{this.isPreviousDropdownExpanded=r;let e=this.hostElement.shadowRoot.getElementById(this.previousButtonId);e&&g(e)}},this.items.slice(0,this.items.length-this.visibleItemCount).map(r=>{var e;let d=(e=r.label)!==null&&e!==void 0?e:r.innerText;return o("ix-dropdown-item",{label:d,onClick:()=>{this.onItemClick(d)},onItemClick:w=>w.stopPropagation()})})),((i=this.items)===null||i===void 0?void 0:i.length)>this.visibleItemCount?o("ix-breadcrumb-item",{id:this.previousButtonId,ref:this.previousButtonRef,label:"...",tabIndex:1,onItemClick:r=>r.stopPropagation(),"aria-describedby":this.previousDropdownId,"aria-controls":this.previousDropdownId,"aria-expanded":u(this.isPreviousDropdownExpanded),class:"previous-button"}):null,o("nav",{key:"11b4a0c0cbad59437fccee34a73cd4e89de39a1c",class:"crumb-items","aria-label":(s=x["aria-label"])!==null&&s!==void 0?s:"breadcrumbs"},o("ol",{key:"ad9d8c27e05b76f334f7cf6f79038d339e8d538c"},o("slot",{key:"d84c2c0028e22cbfd126b867177ba9b4271e8c24"}))),o("ix-dropdown",{key:"6ba681eb8f116ec287961a7e873b90d381baefdb",trigger:this.nextButtonRef.waitForCurrent()},(n=this.nextItems)===null||n===void 0?void 0:n.map(r=>o("ix-dropdown-item",{label:r,onClick:e=>{this.nextClick.emit({event:e,item:r})},onItemClick:e=>e.stopPropagation()}))))}get hostElement(){return f(this)}static get watchers(){return{nextItems:["onNextItemsChange"]}}};return a.style=I,a})();export{P as ix_breadcrumb};
